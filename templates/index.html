<!-- index.html -->

<!--Embed the header.html template at this location-->
{{ template "header.html" .}}

<head>
  <link rel="stylesheet" href="/static/css/index.css">
</head>

  <div class="parent">
    <div class="grid-item item1"> 
      <div class="feedbox">
        {{ range .payload }}
        <form action="/u/view_layer" method="POST">
          <button name="layer" type="submit" value="{{ . }}">{{ . }}</button>
        </form>
      {{ end }}
      </div>
    </div>
    <div class="grid-item item2"> 2</div>
    <div class="grid-item item3">
      <form action="/u/logout_modal" method="GET">
        <button class="style1_button" value="Logout">Logout</button>
      </form>
    </div>
    <div class="grid-item item4">
      <form action="/u/add_layer_modal" method="GET">
      <button class="style1_button" type="submit" value="Add Layer">Add Layer</button>
      </form>
    </div>
    <div class="grid-item item5"> 
      {{  if .Image }}
      <img src="../{{.Image}}" height="inherit" width="inherit"/>
      {{ end }}
    </div>
    <div class="grid-item item6">
      Hello
    </div>
    <div class="grid-item item7">
      <form action="/u/delete_layer_modal" method="GET">
      <button class="style1_button" type="submit" value="Delete Layer"> Delete Layer</button>
      <form action="/u/add_device_modal" method="GET">
      <button class="style1_button" type="submit" value="Add Device"> Add Device</button>
      </form>
    </div>
    <div class="grid-item item8"> 8</div>
    </div>

    {{ if .AddLayerModal }}
<div id="add_layer_modal" class="modal">
  <div class="modal-content">
    <h3>Add Layer</h3>
    <form action="/u/add_layer" method="POST" enctype="multipart/form-data">
        <lable for="layer_name">Layer Name:</lable>
        <input type="text" id="layer_name" name="layer_name"><br>
        <label for="layer_image">Upload File</label>
        <input type="file" id="layer_image" name="layer_image" accept="image/*">
        <input class="cancel_button" type="submit" value="Cancel" formaction="/map" formmethod="get"> 
        <input class="danger_button" type="submit" value="Save">
    </form>
  </div>
</div>
{{end}}

{{ if .LogoutModal }}
<div id="logout_modal" class="modal">
  <div class="modal-content">
    <h3>Are you sure you want to logout?</h3>
    <form action="/u/logout" method="GET" enctype="multipart/form-data">
        <input class="cancel_button" type="submit" value="Cancel" formaction="/map"> 
        <input class="danger_button" type="submit" value="Logout">
    </form>
  </div>
</div>
{{end}}

{{ if .DeleteLayerModal }}
<div id="Delete_layer_modal" class="modal">
  <div class="modal-content">
    <h3>Delete which layer?</h3>
    <form action="/map" method="GET">
      <input class="cancel_button" type="submit" value="Cancel">
    </form>
    <form action="/u/delete_layer" method="POST" enctype="multipart/form-data">
      Floor Name: <input type="text" id="floor_name" name="floor_name"><br>
        </label><br>
      <input class="danger_button" type="submit" value="Continue">
    </form>
  </div>
</div>
{{end}}

{{ if .AddDeviceModal }}
<div id="Add_Device_modal" class="modal">
  <div class="modal-content">
    <h3>Add Device</h3>
    <form action="/map" method="GET">
      <input class="cancel_button" type="submit" value="Cancel">
    </form>
    <form action="/u/add_device" method="POST" enctype="multipart/form-data">
      Device Name: <input type="text" id="device_name" name="device_name"><br>
      Device IP Address: <input type="text" id="device_ip" name="device_ip"><br>
        </label><br>
      <input class="danger_button" type="submit" value="Continue">
    </form>
  </div>
</div>
{{end}}

<!--Embed the footer.html template at this location-->
{{ template "footer.html" .}}